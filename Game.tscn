[gd_scene load_steps=12 format=3 uid="uid://on88s5s78yx3"]

[ext_resource type="Script" path="res://Scripts/GameManager.gd" id="1_75dx8"]
[ext_resource type="PackedScene" uid="uid://dmngx160pmrk8" path="res://Player.tscn" id="1_elwaj"]
[ext_resource type="Texture2D" uid="uid://b8f3ouc6ifpmw" path="res://Assets/water_texture__8_bit__by_trarian_dezbqgu.png" id="2_7fln5"]
[ext_resource type="Script" path="res://Scripts/Water.gd" id="3_qtoy8"]
[ext_resource type="PackedScene" uid="uid://cn2svdl6q647v" path="res://crew_sprite.tscn" id="5_l8cp4"]
[ext_resource type="Script" path="res://Scripts/SpawnerManager.gd" id="5_vwgxj"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7wt53"]
size = Vector2(1201, 59)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ru8u1"]
size = Vector2(1156, 41.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_iyi8b"]
size = Vector2(55, 75)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4orwy"]
size = Vector2(59, 70)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3al4j"]
size = Vector2(37, 774.5)

[node name="Game" type="Node2D"]
script = ExtResource("1_75dx8")

[node name="Player" parent="." instance=ExtResource("1_elwaj")]
position = Vector2(365, 450)

[node name="Bounds" type="StaticBody2D" parent="."]

[node name="Water" type="CollisionShape2D" parent="Bounds"]
position = Vector2(574.5, 619.5)
shape = SubResource("RectangleShape2D_7wt53")
script = ExtResource("3_qtoy8")

[node name="Sprite2D" type="Sprite2D" parent="Bounds/Water"]
position = Vector2(-1.00002, -15)
scale = Vector2(2.69556, 0.188889)
texture = ExtResource("2_7fln5")

[node name="Area2D" type="Area2D" parent="Bounds/Water"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounds/Water/Area2D"]
position = Vector2(4.5, -10.75)
shape = SubResource("RectangleShape2D_ru8u1")

[node name="Wall Left" type="CollisionShape2D" parent="Bounds"]
position = Vector2(17.5, 556.5)
shape = SubResource("RectangleShape2D_iyi8b")

[node name="Wall right" type="CollisionShape2D" parent="Bounds"]
position = Vector2(1146, 566)
shape = SubResource("RectangleShape2D_4orwy")

[node name="ScoreAreaTreasure" type="Area2D" parent="Bounds"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounds/ScoreAreaTreasure"]
position = Vector2(1155, 144.25)
shape = SubResource("RectangleShape2D_3al4j")

[node name="ScoreAreaSupplies" type="Area2D" parent="Bounds"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounds/ScoreAreaSupplies"]
position = Vector2(-2, 144)
shape = SubResource("RectangleShape2D_3al4j")

[node name="UI" type="CanvasLayer" parent="."]

[node name="ScoreText" type="Label" parent="UI"]
offset_left = 964.0
offset_top = 2.0
offset_right = 1152.0
offset_bottom = 44.0
horizontal_alignment = 1
vertical_alignment = 1

[node name="Crew Container" type="HBoxContainer" parent="UI"]
offset_right = 234.0
offset_bottom = 68.0
theme_override_constants/separation = 30

[node name="Crew Sprite" parent="UI/Crew Container" instance=ExtResource("5_l8cp4")]
layout_mode = 2

[node name="Crew Sprite2" parent="UI/Crew Container" instance=ExtResource("5_l8cp4")]
layout_mode = 2

[node name="Crew Sprite3" parent="UI/Crew Container" instance=ExtResource("5_l8cp4")]
layout_mode = 2

[node name="Crew Sprite4" parent="UI/Crew Container" instance=ExtResource("5_l8cp4")]
layout_mode = 2

[node name="Crew Sprite5" parent="UI/Crew Container" instance=ExtResource("5_l8cp4")]
layout_mode = 2

[node name="Spawners" type="Node2D" parent="."]
script = ExtResource("5_vwgxj")

[node name="Spawners (Boarded Ship)" type="Node2D" parent="Spawners"]
position = Vector2(-86, 252)

[node name="Treasure Timer" type="Timer" parent="Spawners/Spawners (Boarded Ship)"]
wait_time = 1.5
autostart = true

[node name="Bomb Timer" type="Timer" parent="Spawners/Spawners (Boarded Ship)"]
wait_time = 6.0
autostart = true

[node name="Spawner (Friendly Ship)" type="Node2D" parent="Spawners"]
position = Vector2(1257, 254)

[node name="Supply Timer" type="Timer" parent="Spawners/Spawner (Friendly Ship)"]
autostart = true

[connection signal="body_entered" from="Bounds/Water/Area2D" to="Bounds/Water" method="_on_area_2d_body_entered"]
[connection signal="body_entered" from="Bounds/ScoreAreaTreasure" to="." method="_on_score_area_treasure_body_entered"]
[connection signal="body_entered" from="Bounds/ScoreAreaSupplies" to="." method="_on_score_area_supplies_body_entered"]
[connection signal="timeout" from="Spawners/Spawners (Boarded Ship)/Treasure Timer" to="Spawners" method="_on_treasure_timer_timeout"]
[connection signal="timeout" from="Spawners/Spawners (Boarded Ship)/Bomb Timer" to="Spawners" method="_on_bomb_timer_timeout"]
[connection signal="timeout" from="Spawners/Spawner (Friendly Ship)/Supply Timer" to="Spawners" method="_on_supply_timer_timeout"]
