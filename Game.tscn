[gd_scene load_steps=19 format=3 uid="uid://on88s5s78yx3"]

[ext_resource type="Script" path="res://Scripts/GameManager.gd" id="1_75dx8"]
[ext_resource type="PackedScene" uid="uid://dmngx160pmrk8" path="res://Player.tscn" id="1_elwaj"]
[ext_resource type="Texture2D" uid="uid://b8f3ouc6ifpmw" path="res://Assets/water_texture__8_bit__by_trarian_dezbqgu.png" id="2_7fln5"]
[ext_resource type="Texture2D" uid="uid://gbh6gc8aj4h4" path="res://Assets/Background.png" id="2_chkg2"]
[ext_resource type="Script" path="res://Scripts/Water.gd" id="3_qtoy8"]
[ext_resource type="PackedScene" uid="uid://cn2svdl6q647v" path="res://crew_sprite.tscn" id="5_l8cp4"]
[ext_resource type="Script" path="res://Scripts/SpawnerManager.gd" id="5_vwgxj"]
[ext_resource type="AudioStream" uid="uid://bmpgbjke786lu" path="res://Assets/Sounds/213982__fenrirfangs__coin-clatter-8.wav" id="7_o2b3j"]
[ext_resource type="AudioStream" uid="uid://gpgyuvv5kmk8" path="res://Assets/Sounds/395824__norman_hittle__spilled-coins.wav" id="8_3emui"]
[ext_resource type="AudioStream" uid="uid://ba8p7sp8ctx0o" path="res://Assets/Sounds/Lovely.mp3" id="8_ql727"]
[ext_resource type="AudioStream" uid="uid://f6bv6teq1c3w" path="res://Assets/Sounds/467883__samsterbirdies__cannon-shot.ogg" id="9_urkkr"]
[ext_resource type="AudioStream" uid="uid://clay7b0jslyh7" path="res://Assets/Sounds/Club Seamus (1).mp3" id="10_om4ou"]
[ext_resource type="AudioStream" uid="uid://csyrqnu5njv3h" path="res://Assets/Sounds/523089__magnuswaker__explosion-1.wav" id="13_4gfle"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7wt53"]
size = Vector2(1201, 59)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ru8u1"]
size = Vector2(1156, 41.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_iyi8b"]
size = Vector2(55, 75)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4orwy"]
size = Vector2(59, 70)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3al4j"]
size = Vector2(37, 771.039)

[node name="Game" type="Node2D"]
script = ExtResource("1_75dx8")

[node name="Background" type="Sprite2D" parent="."]
visibility_layer = 2
position = Vector2(577.607, 321.75)
scale = Vector2(3.63371, 3.55833)
texture = ExtResource("2_chkg2")

[node name="Player" parent="." instance=ExtResource("1_elwaj")]
position = Vector2(365, 450)

[node name="Bounds" type="StaticBody2D" parent="."]

[node name="Water" type="CollisionShape2D" parent="Bounds"]
position = Vector2(574.5, 619.5)
shape = SubResource("RectangleShape2D_7wt53")
script = ExtResource("3_qtoy8")

[node name="Sprite2D" type="Sprite2D" parent="Bounds/Water"]
position = Vector2(-1.00002, -15)
scale = Vector2(2.69556, 0.188889)
texture = ExtResource("2_7fln5")

[node name="Area2D" type="Area2D" parent="Bounds/Water"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounds/Water/Area2D"]
position = Vector2(4.5, -10.75)
shape = SubResource("RectangleShape2D_ru8u1")

[node name="Wall Left" type="CollisionShape2D" parent="Bounds"]
position = Vector2(17.5, 556.5)
shape = SubResource("RectangleShape2D_iyi8b")

[node name="Wall right" type="CollisionShape2D" parent="Bounds"]
position = Vector2(1146, 566)
shape = SubResource("RectangleShape2D_4orwy")

[node name="ScoreAreaTreasure" type="Area2D" parent="Bounds"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounds/ScoreAreaTreasure"]
position = Vector2(1155, 150.039)
shape = SubResource("RectangleShape2D_3al4j")

[node name="ScoreAreaSupplies" type="Area2D" parent="Bounds"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bounds/ScoreAreaSupplies"]
position = Vector2(-2, 136.48)
shape = SubResource("RectangleShape2D_3al4j")

[node name="UI" type="CanvasLayer" parent="."]

[node name="ScoreText" type="Label" parent="UI"]
offset_left = 915.0
offset_top = 2.0
offset_right = 1152.0
offset_bottom = 44.0
theme_override_font_sizes/font_size = 24
horizontal_alignment = 1
vertical_alignment = 1

[node name="GameOverUI" type="Node2D" parent="UI"]
visible = false
position = Vector2(468, 72)

[node name="Panel" type="Panel" parent="UI/GameOverUI"]
offset_left = -265.0
offset_top = 1.0
offset_right = 464.0
offset_bottom = 410.0

[node name="Game Over" type="Label" parent="UI/GameOverUI"]
offset_left = -20.0
offset_top = 4.0
offset_right = 195.0
offset_bottom = 59.0
theme_override_font_sizes/font_size = 40
text = "Game Over"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Stats" type="Label" parent="UI/GameOverUI"]
offset_left = -254.0
offset_top = 81.0
offset_right = 440.0
offset_bottom = 310.0
theme_override_font_sizes/font_size = 35
text = "Total Score in Loot: 
Total Chests Plundered:
Members of the Nobility Kidnapped:
Supplies Transfered:"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Restart" type="Button" parent="UI/GameOverUI"]
offset_left = -143.0
offset_top = 331.0
offset_right = 35.0
offset_bottom = 378.0
theme_override_font_sizes/font_size = 28
text = "Restart"

[node name="Menu" type="Button" parent="UI/GameOverUI"]
offset_left = 146.0
offset_top = 331.0
offset_right = 324.0
offset_bottom = 378.0
theme_override_font_sizes/font_size = 28
text = "Menu"

[node name="Panel" type="Panel" parent="UI"]
offset_left = 47.0
offset_top = 8.0
offset_right = 204.0
offset_bottom = 83.0

[node name="Crew Container" type="HBoxContainer" parent="UI"]
offset_left = 51.0
offset_top = 13.0
offset_right = 206.0
offset_bottom = 81.0
theme_override_constants/separation = 30

[node name="Crew Sprite" parent="UI/Crew Container" instance=ExtResource("5_l8cp4")]
layout_mode = 2

[node name="Crew Sprite2" parent="UI/Crew Container" instance=ExtResource("5_l8cp4")]
layout_mode = 2

[node name="Crew Sprite3" parent="UI/Crew Container" instance=ExtResource("5_l8cp4")]
layout_mode = 2

[node name="Crew Sprite4" parent="UI/Crew Container" instance=ExtResource("5_l8cp4")]
layout_mode = 2

[node name="Crew Sprite5" parent="UI/Crew Container" instance=ExtResource("5_l8cp4")]
layout_mode = 2

[node name="Spawners" type="Node2D" parent="."]
script = ExtResource("5_vwgxj")

[node name="Spawners (Boarded Ship)" type="Node2D" parent="Spawners"]
position = Vector2(-86, 252)

[node name="Treasure Timer" type="Timer" parent="Spawners/Spawners (Boarded Ship)"]
wait_time = 1.5
autostart = true

[node name="Bomb Timer" type="Timer" parent="Spawners/Spawners (Boarded Ship)"]
wait_time = 6.0
autostart = true

[node name="Spawner (Friendly Ship)" type="Node2D" parent="Spawners"]
position = Vector2(1257, 254)

[node name="Supply Timer" type="Timer" parent="Spawners/Spawner (Friendly Ship)"]
wait_time = 10.0
autostart = true

[node name="Sounds" type="Node2D" parent="."]

[node name="Coin" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("7_o2b3j")
volume_db = 3.962

[node name="Chest Spill" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("8_3emui")
volume_db = 2.971

[node name="Healed" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("8_ql727")
volume_db = 10.895

[node name="Cannon" type="AudioStreamPlayer2D" parent="Sounds"]
scale = Vector2(0.810682, 1.02449)
stream = ExtResource("9_urkkr")
volume_db = -6.99

[node name="BackgroundMusic" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("10_om4ou")
autoplay = true

[node name="Explosion" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("13_4gfle")

[connection signal="body_entered" from="Bounds/Water/Area2D" to="Bounds/Water" method="_on_area_2d_body_entered"]
[connection signal="body_entered" from="Bounds/ScoreAreaTreasure" to="." method="_on_score_area_treasure_body_entered"]
[connection signal="body_entered" from="Bounds/ScoreAreaSupplies" to="." method="_on_score_area_supplies_body_entered"]
[connection signal="pressed" from="UI/GameOverUI/Restart" to="." method="_on_restart_pressed"]
[connection signal="pressed" from="UI/GameOverUI/Menu" to="." method="_on_menu_pressed"]
[connection signal="timeout" from="Spawners/Spawners (Boarded Ship)/Treasure Timer" to="Spawners" method="_on_treasure_timer_timeout"]
[connection signal="timeout" from="Spawners/Spawners (Boarded Ship)/Bomb Timer" to="Spawners" method="_on_bomb_timer_timeout"]
[connection signal="timeout" from="Spawners/Spawner (Friendly Ship)/Supply Timer" to="Spawners" method="_on_supply_timer_timeout"]
